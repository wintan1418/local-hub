<h1>Booking Update</h1>

<p>Hello <%= @user.first_name || @user.email %>,</p>

<p>Your booking has been updated. Here are the current details:</p>

<div style="background-color: #f0f9ff; border: 1px solid #0ea5e9; border-radius: 8px; padding: 20px; margin: 20px 0;">
  <h3 style="margin-top: 0; color: #0c4a6e;">Updated Booking Details</h3>
  <p><strong>Service:</strong> <%= @service.title %></p>
  <p><strong>Provider:</strong> <%= @provider.business_name || @provider.display_name %></p>
  <p><strong>Status:</strong> 
    <span style="padding: 4px 8px; border-radius: 4px; font-weight: bold; 
      <%= case @booking.status
          when 'pending' then 'background-color: #fef3c7; color: #92400e;'
          when 'confirmed' then 'background-color: #d1fae5; color: #065f46;'
          when 'completed' then 'background-color: #dbeafe; color: #1e40af;'
          when 'cancelled' then 'background-color: #fecaca; color: #991b1b;'
          end %>">
      <%= @booking.status.titleize %>
    </span>
  </p>
  <p><strong>Date & Time:</strong> <%= @booking.scheduled_at.strftime("%A, %B %d, %Y at %I:%M %p") %></p>
  <p><strong>Total Price:</strong> $<%= @booking.total_price %></p>
  <p><strong>Booking ID:</strong> #<%= @booking.id %></p>
</div>

<% case @booking.status %>
<% when 'confirmed' %>
  <p>Great news! Your booking has been confirmed by the provider. They will contact you soon with any final details.</p>
<% when 'completed' %>
  <p>Your service has been completed! We hope you had a great experience.</p>
  <p>Please consider leaving a review to help other customers and support your service provider.</p>
<% when 'cancelled' %>
  <p>Unfortunately, your booking has been cancelled. If you have any questions, please contact the provider or our support team.</p>
<% else %>
  <p>Your booking status has been updated. Please check your dashboard for more details.</p>
<% end %>

<div style="text-align: center; margin: 30px 0;">
  <a href="<%= customer_dashboard_url %>" class="button">View Booking Details</a>
</div>

<p>If you have any questions, don't hesitate to contact us or the service provider directly.</p>

<p>Best regards,<br>
The LocalServiceHub Team</p>